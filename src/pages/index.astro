---
// src/pages/index.astro
import BaseLayout from '@/layouts/BaseLayout.astro';
import SimpleSection from '@/components/Section/SimpleSection.astro';
import TechCard from '@/components/TechCard.astro';
import Card from '@/components/Card.astro';
---

<BaseLayout title="Greactstro - Modern Web Solutions">
  <main>
    <!-- Hero Section - Temporarily disabled due to error -->
    <!--
    <Section variant="hero" variantProps={{
      backgroundColor: "bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900",
      sectionPadding: "py-20",
      showBadge: true,
      badgeText: "✨ Trusted by 500+ companies",
      showStats: true,
      stats: [
        { number: "500+", label: "Happy Clients" },
        { number: "1000+", label: "Projects Delivered" },
        { number: "24/7", label: "Support" }
      ],
      showScrollIndicator: true
    }}>
      <div slot="heading">
        <h1 class="text-6xl font-bold text-white">Transform Your Digital Presence</h1>
      </div>
      <div slot="description">
        <p class="text-xl text-gray-200">We create stunning, responsive websites and digital solutions that drive results for modern businesses.</p>
      </div>
      <div slot="buttons">
        <a href="#services" class="inline-block bg-white text-blue-900 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors mr-4">Get Started</a>
        <a href="#portfolio" class="inline-block border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-900 transition-colors">View Portfolio</a>
      </div>
    </Section>
    -->

    <!-- Temporary Hero Replacement -->
    <div class="bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 py-20 text-center">
      <h1 class="text-6xl font-bold text-white mb-6">Transform Your Digital Presence</h1>
      <p class="text-xl text-gray-200 mb-8">We create stunning, responsive websites and digital solutions that drive results for modern businesses.</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="#services" class="inline-block bg-white text-blue-900 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors">Get Started</a>
        <a href="#portfolio" class="inline-block border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-900 transition-colors">View Portfolio</a>
      </div>
    </div>

    <!-- Services Section - Now using SimpleSection with collection data -->
    <SimpleSection 
      variant="cardGrid" 
      collection="services"
      query="getAll"
      variantProps={{
        columns: { sm: 1, md: 2, lg: 3 },
        backgroundColor: "bg-gray-50",
        sectionPadding: "py-16"
      }}
    >
      <div slot="heading">
        <h2 class="text-4xl font-bold text-center mb-12">Our Services</h2>
      </div>
    </SimpleSection>

    <!-- Two Column Section -->
    <SimpleSection variant="twoCol" variantProps={{
      backgroundColor: "bg-white",
      sectionPadding: "py-16"
    }}>
      <div slot="left">
        <h2 class="text-4xl font-bold mb-6">Why Choose Us?</h2>
        <p class="text-lg text-gray-600 mb-6">
          We combine cutting-edge technology with proven design principles to create websites that not only look amazing but also perform exceptionally well.
        </p>
        <ul class="space-y-3">
          <li class="flex items-center">
            <span class="text-green-500 mr-3">✓</span>
            Responsive design that works on all devices
          </li>
          <li class="flex items-center">
            <span class="text-green-500 mr-3">✓</span>
            SEO optimized for better search rankings
          </li>
          <li class="flex items-center">
            <span class="text-green-500 mr-3">✓</span>
            Fast loading times and performance
          </li>
        </ul>
      </div>
      <div slot="right">
        <div class="bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl p-8 text-white">
          <h3 class="text-2xl font-bold mb-4">Ready to Get Started?</h3>
          <p class="mb-6">Let's discuss your project and create something amazing together.</p>
          <a href="/contact" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
            Contact Us
          </a>
        </div>
      </div>
    </SimpleSection>

    <!-- Technology Stack Section -->
    <SimpleSection variant="centered" variantProps={{
      backgroundColor: "bg-gray-900",
      textColor: "text-white",
      sectionPadding: "py-16"
    }}>
      <div slot="heading">
        <h2 class="text-4xl font-bold mb-6">Our Technology Stack</h2>
      </div>
      <div slot="description">
        <p class="text-xl text-gray-300 mb-12">We use cutting-edge technologies to build modern, scalable solutions.</p>
      </div>
      <div slot="additional">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
          <TechCard
            title="React"
            description="Modern UI development"
            icon="⚛️"
            color="blue"
            href="#"
          />
          <TechCard
            title="Astro"
            description="Static site generation"
            icon="🚀"
            color="purple"
            href="#"
          />
          <TechCard
            title="Tailwind CSS"
            description="Utility-first CSS"
            icon="🎨"
            color="cyan"
            href="#"
          />
          <TechCard
            title="TypeScript"
            description="Type-safe JavaScript"
            icon="📘"
            color="blue"
            href="#"
          />
        </div>
      </div>
    </SimpleSection>

    <!-- Portfolio Section - Now using SimpleSection with collection data -->
    <SimpleSection 
      variant="masonry" 
      collection="projects"
      query="getAll"
      variantProps={{
        columns: { xs: 1, sm: 2, md: 3 },
        backgroundColor: "bg-white",
        sectionPadding: "py-16"
      }}
    >
      <div slot="heading">
        <h2 class="text-4xl font-bold text-center mb-12">Our Portfolio</h2>
      </div>
      <div slot="description">
        <p class="text-xl text-gray-600 text-center mb-12">Discover some of our recent work and success stories.</p>
      </div>
    </SimpleSection>

    <!-- Testimonials Section - Now using SimpleSection with collection data -->
    <SimpleSection 
      variant="tabs" 
      collection="testimonials"
      query="getAll"
      variantProps={{
        tabStyle: "pills",
        backgroundColor: "bg-blue-50",
        sectionPadding: "py-16"
      }}
    >
      <div slot="heading">
        <h2 class="text-4xl font-bold text-center mb-12">What Our Clients Say</h2>
      </div>
      <div slot="tabs">
        <div class="flex flex-wrap gap-2 justify-center mb-8">
          <button class="tab-button active px-6 py-2 bg-blue-500 text-white rounded-full">Client Reviews</button>
          <button class="tab-button px-6 py-2 bg-gray-200 text-gray-700 rounded-full">Success Stories</button>
        </div>
      </div>
    </SimpleSection>

    <!-- FAQ Section - Now using SimpleSection with collection data -->
    <SimpleSection 
      variant="accordion" 
      collection="faq"
      query="getAll"
      variantProps={{
        style: "cards",
        backgroundColor: "bg-gray-50",
        sectionPadding: "py-16"
      }}
    >
      <div slot="heading">
        <h2 class="text-4xl font-bold text-center mb-12">Frequently Asked Questions</h2>
      </div>
      <div slot="description">
        <p class="text-xl text-gray-600 text-center mb-12">Find answers to common questions about our services.</p>
      </div>
    </SimpleSection>

    <!-- CTA Section -->
    <SimpleSection variant="centered" variantProps={{
      backgroundColor: "bg-gradient-to-r from-blue-600 to-purple-600",
      textColor: "text-white",
      sectionPadding: "py-20"
    }}>
      <div slot="heading">
        <h2 class="text-4xl font-bold mb-6">Ready to Start Your Project?</h2>
      </div>
      <div slot="description">
        <p class="text-xl mb-8 opacity-90">Let's create something amazing together. Get in touch today!</p>
      </div>
      <div slot="additional">
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/contact" class="bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-center">
            Get Started
          </a>
          <a href="/portfolio" class="border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors text-center">
            View Portfolio
          </a>
        </div>
      </div>
    </SimpleSection>
  </main>
</BaseLayout>

<script>
  // Tab functionality
  document.querySelectorAll('.tab-button').forEach((button, index) => {
    button.addEventListener('click', () => {
      // Remove active class from all buttons and content
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active', 'bg-blue-500', 'text-white'));
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.add('bg-gray-200', 'text-gray-700'));
      document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
      
      // Add active class to clicked button and corresponding content
      button.classList.add('active', 'bg-blue-500', 'text-white');
      button.classList.remove('bg-gray-200', 'text-gray-700');
      document.querySelectorAll('.tab-content')[index].classList.remove('hidden');
    });
  });

  // Accordion functionality
  document.querySelectorAll('.accordion-trigger').forEach((trigger) => {
    trigger.addEventListener('click', () => {
      const content = trigger.nextElementSibling;
      const icon = trigger.querySelector('span:last-child');
      
      if (content && icon) {
        if (content.classList.contains('hidden')) {
          content.classList.remove('hidden');
          icon.textContent = '−';
        } else {
          content.classList.add('hidden');
          icon.textContent = '+';
        }
      }
    });
  });
</script>