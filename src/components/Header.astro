---
import { SiteData } from "@/content/SiteData";
import { buildContentQueries } from "@/utils/ArrayQueryUtils";
import Menu from "../components/Menu/Menu.astro";
import { Image } from "astro:assets";

const baseMainNavMenu = [
  { id: "home", label: "Home", slug: "/" },
  { id: "about", label: "About Us", slug: "/about-us" },
  {
    id: "contact",
    label: "Contact",
    slug: "/contact-us",
    position: "append",
    weight: 100,
  },
];
const finalQueries = await buildContentQueries({
  MainNavMenu: baseMainNavMenu,
});
const headerMenu = finalQueries.MainNavMenu || [];
---

<header class="flex justify-between items-center p-4">
  <a href="/" class="flex items-center">
    <Image
      src={SiteData.logo.src}
      alt=`${SiteData.title} logo`
      class="h-12"
      format="webp"
      loading="eager"
      fetchpriority="high"
    />
    <h1>{SiteData.title}</h1>
  </a>

  <!-- Render Menu component with hamburgerOnly enabled -->
  <Menu items={headerMenu} hamburgerOnly={false} />
</header>
