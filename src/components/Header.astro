---
import { SiteData } from '@/content/SiteData';
import { buildContentQueries } from '@/utils/ContentQueries';
import Menu from '../components/Menu/Menu.astro';

// Define a static base query for the MainNavMenu.
const baseMainNavMenu = [
  { id: "home", label: "Home", slug: "/" }
];

// Merge dynamic queries into the base.
const finalQueries = await buildContentQueries({ MainNavMenu: baseMainNavMenu });
const headerMenu = finalQueries.MainNavMenu || [];
---
<header>
  <a href="/">
    <h1>{SiteData.title}</h1>
  </a>
  <nav>
    <Menu 
      items={headerMenu} 
      listClass="header-menu" 
      itemClass="header-menu-item" 
      maxDepth={Infinity}  {/* Unlimited levels for header menu */}
    />
  </nav>
</header>
