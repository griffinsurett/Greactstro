---
/*
  Renders a list of menu items recursively.
  Determines the RenderComponent for menu items once, then renders all items.
*/
const { 
  items = [], 
  class: extraClass = '', 
  menuItemClass = "", 
  submenuClass = "", 
  isHierarchical = true, 
  menuItemComponent,
  breakpoint
} = Astro.props;
import DefaultMenuItem from './MenuItem.astro';

// Determine the component to use for menu items (override or default)
const RenderComponent = menuItemComponent ? menuItemComponent : DefaultMenuItem;
---
<ul class={`list-none m-0 p-0 ${extraClass}`}>
  {items.map((item) => (
    <RenderComponent 
      item={item} 
      depth={0} 
      menuItemClass={menuItemClass}
      submenuClass={submenuClass}
      isHierarchical={isHierarchical}
      breakpoint={breakpoint}
    />
  ))}
</ul>
